<html>
	
<header>
    <div class="container"></div>
    <link rel="stylesheet" href="/static/css/poet_detail.css" />
    <script src="\static\js\jquery.js"></script>
    <script src="\static\js\echarts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
   
    <script src="/static/js/varses.js"></script>
    <link rel="stylesheet" href="/static/css/header.css" />
    
  </header>
<body>
  
  <div class="content">
    
    <div class="repeat-bg">
      <div class="c-magic-area c-magic-area--menu" data-target-class=".c-main-menu__link" data-tween-back="true" aria-hidden="true"></div>
 
    <header class="o-header">
        <h1 class="c-logo"><a class="c-logo__link" href="../../" target="_blank">寻章</a></h1>
        <nav class="c-main-menu" aria-labelledby="mainmenulabel">
        <h2 id="mainmenulabel" class="u-visually-hidden">Main Menu</h2>
        <ul class="c-main-menu__list">
            <li><a class="c-main-menu__link" href="../../">首页</a></li>
            <li><a aria-current="page" class="is-magic-active c-main-menu__link" href="./">诗文</a></li>
            <li><a class="c-main-menu__link" href="../../author/">诗人</a></li>
            <li><a class="c-main-menu__link" href="../../varses/page=1">名句</a></li>
            <li><a class="c-main-menu__link" href="../AIPoetry">AI创作</a></li>
        </ul>
        </nav>
    </header>
      <div class="bg-area">
        <div class="column">
          <h1>{{ name }}<h1>
          <!-- <h6><a href="http://lichin.me" style="color:#50514f;font-weight:700"><span> view my blog </span></a>|| Lichin-Lin</h6>
          <h6>Animation only for desktop</h6> -->
        </div>
      </div>
    </div>
    
    <div class="container">
        <div class="column">
          <div class="add-info"  data-title="简介"></div>
          <div class="img-wrap">
            <img src={{ img }} alt="photo1" />
          </div>
          <div class="paragraph">
            <h1>简介</h1>
            <p>{{ intro }}</p>
            <a href="../poetry/poetid={{ poetid }}/page=1">{{ sum }}篇诗文</a>
            <!-- <button class="blue-btn view-btn">view!</button> -->
          </div>
        </div>

        <div class="column">
            
            <div id="main1" style="width:1800px;height: 700px;">
              <h3>诗人创作风格统计图</h3>
              <div id="left" style="width:700px;height: 700px;float:left;"></div>
              
              <div id="right" style="width:800px;height: 700px;float:left;"></div>
              
          </div>
          <script type="text/javascript">
            var myChart1 = echarts.init(document.getElementById('right'));
            // 显示标题，图例和空的坐标轴
            myChart1.setOption({
            // title: {
            // 	text: '异步数据加载示例'
            // },
            tooltip: {},
            legend: {
              data: ['该风格诗词数量']
            },
            xAxis: {
              data: []
            },
            yAxis: {},
            series: [
              {
              name: '该风格诗词数量',
              type: 'bar',
              data: []
              }
            ]
            });

            // 异步加载数据
            // $.get('static/libai.json').done(function(data) {
            $.getJSON('/data/{{ name }}').done(function(data) {
            // 填入数据
            myChart1.setOption({
              xAxis: {
                data: data.style
              },
              series: [
              {
                // 根据名字对应到相应的系列
                name: '该风格诗词数量',
                data: data.sum
              }
              ]
            });
            });
          </script>
            <script type="text/javascript">
                var chartDom = document.getElementById('left');
                var myChart = echarts.init(chartDom);
                var option;
                
                option = {
                legend: {
                    top: 'bottom'
                },
                toolbox: {
                    show: true,
                    feature: {
                    mark: { show: false },
                    dataView: { show: false, readOnly: false },
                    restore: { show: false },
                    saveAsImage: { show: false }
                    }
                },
                series: [
                    {
                    name: 'Nightingale Chart',
                    type: 'pie',
                    radius: [50, 250],
                    center: ['50%', '50%'],
                    roseType: 'area',
                    itemStyle: {
                        borderRadius: 8
                    },
                    data: [
                    
                    ]
                    }
                ]
                };
                
                $.getJSON('/data2/{{ name }}').done(function(data) {
                    // 填入数据
                    myChart.setOption({
                        
                        series: [
                        {
                            // 根据名字对应到相应的系列
                            
                            data: data.data
                        }
                        ]
                    });
                    });
                
                option && myChart.setOption(option);
            </script>
        </div>



        
        {% for key in detail_info %}
        <div class="column">
            <div class="add-info" data-title={{ key }}></div>
            <!-- <div class="img-wrap">
            <img src="https://res.cloudinary.com/lichin/image/upload/v1462040639/grass_fh9xuj.png" alt="photo3" />
            </div> -->
            <div class="paragraph">
                <h1>{{ key }}</h1>
                {% for para in detail_info[key] %}
                    <p> {{ para }} </p>
                {% endfor %}
              </div>
        
        </div>
        {% endfor %}
      
        
    </div>
  </div>
  
  
</body>
  
  <footer>
    <div class="container">
      <div class="row">
        <div class="column">
          
        </div>
      </div>
    </div>
  </footer>
</html>